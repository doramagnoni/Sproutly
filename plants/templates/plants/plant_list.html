{% extends 'base.html' %}

{% block content %}
    <div class="container mt-5"> 
        <h1>My Plants</h1>

        <table class="table table-striped">
            <thead>
                <tr>
                    <th>Plant Name</th>
                    <th>Species</th> 
                    <th>Watering Interval</th>
                    <th>Last Watered</th>  
                    <th></th> 
                    <th></th> 
                </tr>
            </thead>

            <tbody>
                {% for plant in page_obj %}
                    <tr>
                        <td>{{ plant.name }}</td>
                        <td>{{ plant.species }}</td>
                        <td>{{ plant.watering_interval }} days</td>
                        <td>{{ plant.last_watered }}</td>
                        <td><a href="{% url 'edit_plant' plant.id %}" class="btn btn-primary">Edit</a></td> 
                        <td>
                            <a href="{% url 'delete_plant' plant.id %}"  
                               class="btn btn-danger" 
                               onclick="return confirm('Are you absolutely sure you want to delete this plant?');">Delete</a> 
                        </td>  
                    </tr>
                {% endfor %}
            </tbody>
        </table>

        <div class="pagination"> 
            {% if page_obj.has_previous %} 
                <a href="?page={{ page_obj.previous_page_number }}">Previous</a> 
            {% endif %}

            <span class="current">
                Page {{ page_obj.number }} of {{ page_obj.paginator.num_pages }}
            </span>

            {% if page_obj.has_next %}
                <a href="?page={{ page_obj.next_page_number }}">Next</a>
            {% endif %}
        </div>
    </div>
{% endblock content %}
